---
import { Code, TabItem, Tabs } from "@astrojs/starlight/components";

interface Props {
    command: string;
}

const { command } = Astro.props;

// Transform the command for different package managers
const commands = {
    pnpm: command
        .replace(/^npx/, "pnpm dlx")
        .replace(/^npm/, "pnpm")
        .replace(/^pnpm install/, "pnpm add"),
    npm: command,
    yarn: command
        .replace(/^npx/, "yarn dlx")
        .replace(/^npm/, "yarn")
        .replace(/^yarn install/, "yarn add"),
    bun: command
        .replace(/^npx/, "bunx --bun")
        .replace(/^npm/, "bun")
        .replace(/^bun install/, "bun add"),
};
---

<Tabs>
    <TabItem label="pnpm">
        <Code code={commands.pnpm} lang="bash" frame="none" />
    </TabItem>
    <TabItem label="npm">
        <Code code={commands.npm} lang="bash" frame="none" />
    </TabItem>
    <TabItem label="yarn">
        <Code code={commands.yarn} lang="bash" frame="none" />
    </TabItem>
    <TabItem label="bun">
        <Code code={commands.bun} lang="bash" frame="none" />
    </TabItem>
</Tabs>
